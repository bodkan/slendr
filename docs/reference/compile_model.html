<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compile a slendr demographic model — compile_model • slendr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compile a slendr demographic model — compile_model"><meta name="description" content="First, compiles the vectorized population spatial maps into a series of
binary raster PNG files, which is the format that SLiM understands and uses
it to define population boundaries. Then extracts the demographic model
defined by the user (i.e. population divergences and gene flow events) into a
series of tables which are later used by the built-in SLiM script to program
the timing of simulation events."><meta property="og:description" content="First, compiles the vectorized population spatial maps into a series of
binary raster PNG files, which is the format that SLiM understands and uses
it to define population boundaries. Then extracts the demographic model
defined by the user (i.e. population divergences and gene flow events) into a
series of tables which are later used by the built-in SLiM script to program
the timing of simulation events."><meta property="og:image" content="https://www.slendr.net/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">slendr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-question-circle"></span> Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-book"></span> Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/vignette-00-installation.html">Installation instructions</a></li>
    <li><a class="dropdown-item" href="../articles/vignette-01-tutorial.html">Introduction and basic tutorial</a></li>
    <li><a class="dropdown-item" href="../articles/vignette-02-grid-model.html">Demes on a regular spatial grid</a></li>
    <li><a class="dropdown-item" href="../articles/vignette-03-interactions.html">Programming dispersion dynamics</a></li>
    <li><a class="dropdown-item" href="../articles/vignette-04-nonspatial-models.html">Traditional non-spatial models</a></li>
    <li><a class="dropdown-item" href="../articles/vignette-05-tree-sequences.html">Tree sequence processing and statistics</a></li>
    <li><a class="dropdown-item" href="../articles/vignette-06-locations.html">Spatially annotated tree sequences</a></li>
    <li><a class="dropdown-item" href="../articles/vignette-07-backends.html">Simulating data with SLiM and msprime backends</a></li>
    <li><a class="dropdown-item" href="../articles/vignette-08-nonslendr-tskit.html">Analyzing non-slendr tree sequences</a></li>
    <li><a class="dropdown-item" href="../articles/vignette-09-paper.html">Examples from the slendr paper</a></li>
    <li><a class="dropdown-item" href="../articles/vignette-10-tracts.html">Extracting true ancestry tracts</a></li>
    <li><a class="dropdown-item" href="../articles/vignette-11-extensions.html">Extending models with custom SLiM code</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/bodkan/slendr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://twitter.com/fleventy5"><span class="fa fa-twitter"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Compile a slendr demographic model</h1>
      <small class="dont-index">Source: <a href="https://github.com/bodkan/slendr/blob/HEAD/R/compilation.R" class="external-link"><code>R/compilation.R</code></a></small>
      <div class="d-none name"><code>compile_model.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>First, compiles the vectorized population spatial maps into a series of
binary raster PNG files, which is the format that SLiM understands and uses
it to define population boundaries. Then extracts the demographic model
defined by the user (i.e. population divergences and gene flow events) into a
series of tables which are later used by the built-in SLiM script to program
the timing of simulation events.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compile_model</span><span class="op">(</span></span>
<span>  <span class="va">populations</span>,</span>
<span>  <span class="va">generation_time</span>,</span>
<span>  gene_flow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  direction <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  simulation_length <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  serialize <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  description <span class="op">=</span> <span class="st">""</span>,</span>
<span>  time_units <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  resolution <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  competition <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mating <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dispersal <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  extension <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-populations">populations<a class="anchor" aria-label="anchor" href="#arg-populations"></a></dt>
<dd><p>Object(s) of the <code>slendr_pop</code> class (multiple objects
need to be specified in a <code>list</code>)</p></dd>


<dt id="arg-generation-time">generation_time<a class="anchor" aria-label="anchor" href="#arg-generation-time"></a></dt>
<dd><p>Generation time (in model time units)</p></dd>


<dt id="arg-gene-flow">gene_flow<a class="anchor" aria-label="anchor" href="#arg-gene-flow"></a></dt>
<dd><p>Gene flow events generated by the <code>gene_flow</code> function
(either a list of data.frame objects in the format defined by the
<code>gene_flow</code> function, or a single data.frame)</p></dd>


<dt id="arg-direction">direction<a class="anchor" aria-label="anchor" href="#arg-direction"></a></dt>
<dd><p>Intended direction of time. Under normal circumstances this
parameter is inferred from the model and does not need to be set manually.</p></dd>


<dt id="arg-simulation-length">simulation_length<a class="anchor" aria-label="anchor" href="#arg-simulation-length"></a></dt>
<dd><p>Total length of the simulation (required for forward time
models, optional for models specified in backward time units which by
default run to "the present time")</p></dd>


<dt id="arg-serialize">serialize<a class="anchor" aria-label="anchor" href="#arg-serialize"></a></dt>
<dd><p>Should model files be serialized to disk? If not, only an
R model object will be returned but no files will be created. This speeds
up simulation with msprime but prevents using the SLiM back end.</p></dd>


<dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>Output directory for the model configuration files which will be
loaded by the backend SLiM script. If <code>NULL</code>, model configuration
files will be saved to a temporary directory.</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>Completely delete the specified directory, in case it
already exists, and create a new one?</p></dd>


<dt id="arg-force">force<a class="anchor" aria-label="anchor" href="#arg-force"></a></dt>
<dd><p>Force a deletion of the model directory if it is already
present? Useful for non-interactive uses. In an interactive mode, the user
is asked to confirm the deletion manually.</p></dd>


<dt id="arg-description">description<a class="anchor" aria-label="anchor" href="#arg-description"></a></dt>
<dd><p>Optional short description of the model</p></dd>


<dt id="arg-time-units">time_units<a class="anchor" aria-label="anchor" href="#arg-time-units"></a></dt>
<dd><p>Units of time in which model event times are to be interpreted.
If not specified and <code>generation_time</code> is set to 1, this will be set to
"generations", otherwise the value is "model time units".</p></dd>


<dt id="arg-resolution">resolution<a class="anchor" aria-label="anchor" href="#arg-resolution"></a></dt>
<dd><p>How many distance units per pixel?</p></dd>


<dt id="arg-competition-mating">competition, mating<a class="anchor" aria-label="anchor" href="#arg-competition-mating"></a></dt>
<dd><p>Maximum spatial competition and mating choice
distance</p></dd>


<dt id="arg-dispersal">dispersal<a class="anchor" aria-label="anchor" href="#arg-dispersal"></a></dt>
<dd><p>Standard deviation of the normal distribution of the
parent-offspring distance</p></dd>


<dt id="arg-extension">extension<a class="anchor" aria-label="anchor" href="#arg-extension"></a></dt>
<dd><p>Path to a SLiM script to be used for extending slendr's
built-in SLiM simulation engine. This can either be a file with the snippet
of Eidos code, or a string containing the code directly. Regardless, the
provided snippet will be appended after the contents of the bundled slendr
SLiM script.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Compiled <code>slendr_model</code> model object which encapsulates all
information about the specified model (which populations are involved,
when and how much gene flow should occur, what is the spatial resolution
of a map, and what spatial dispersal and mating parameters should be used
in a SLiM simulation, if applicable)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># spatial definitions -----------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create a blank abstract world 1000x1000 distance units in size</span></span></span>
<span class="r-in"><span><span class="va">map</span> <span class="op">&lt;-</span> <span class="fu"><a href="world.html">world</a></span><span class="op">(</span>xrange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1000</span><span class="op">)</span>, yrange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1000</span><span class="op">)</span>, landscape <span class="op">=</span> <span class="st">"blank"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create a circular population with the center of a population boundary at</span></span></span>
<span class="r-in"><span><span class="co"># [200, 800] and a radius of 100 distance units, 1000 individuals at time 1</span></span></span>
<span class="r-in"><span><span class="co"># occupying a map just specified</span></span></span>
<span class="r-in"><span><span class="va">pop1</span> <span class="op">&lt;-</span> <span class="fu"><a href="population.html">population</a></span><span class="op">(</span><span class="st">"pop1"</span>, N <span class="op">=</span> <span class="fl">1000</span>, time <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                   map <span class="op">=</span> <span class="va">map</span>, center <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">800</span><span class="op">)</span>, radius <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># printing a population object to a console shows a brief summary</span></span></span>
<span class="r-in"><span><span class="va">pop1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> slendr 'population' object </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -------------------------- </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> name: pop1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> habitat: terrestrial</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> number of spatial maps: 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> map: abstract spatial landscape with custom features</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stays until the end of the simulation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> population history overview:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - time 1: created as an ancestral population (N = 1000)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create another population occupying a polygon range, splitting from pop1</span></span></span>
<span class="r-in"><span><span class="co"># at a given time point (note that specifying a map is not necessary because</span></span></span>
<span class="r-in"><span><span class="co"># it is "inherited" from the parent)</span></span></span>
<span class="r-in"><span><span class="va">pop2</span> <span class="op">&lt;-</span> <span class="fu"><a href="population.html">population</a></span><span class="op">(</span><span class="st">"pop2"</span>, N <span class="op">=</span> <span class="fl">100</span>, time <span class="op">=</span> <span class="fl">50</span>, parent <span class="op">=</span> <span class="va">pop1</span>,</span></span>
<span class="r-in"><span>                        polygon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">100</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">320</span>, <span class="fl">30</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>, <span class="fl">200</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>, <span class="fl">400</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">300</span>, <span class="fl">450</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">400</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pop3</span> <span class="op">&lt;-</span> <span class="fu"><a href="population.html">population</a></span><span class="op">(</span><span class="st">"pop3"</span>, N <span class="op">=</span> <span class="fl">200</span>, time <span class="op">=</span> <span class="fl">80</span>, parent <span class="op">=</span> <span class="va">pop2</span>,</span></span>
<span class="r-in"><span>                   center <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">800</span>, <span class="fl">800</span><span class="op">)</span>, radius <span class="op">=</span> <span class="fl">200</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># move "pop1" to another location along a specified trajectory and saved the</span></span></span>
<span class="r-in"><span><span class="co"># resulting object to the same variable (the number of intermediate spatial</span></span></span>
<span class="r-in"><span><span class="co"># snapshots can be also determined automatically by leaving out the</span></span></span>
<span class="r-in"><span><span class="co"># `snapshots = ` argument)</span></span></span>
<span class="r-in"><span><span class="va">pop1_moved</span> <span class="op">&lt;-</span> <span class="fu"><a href="move.html">move</a></span><span class="op">(</span><span class="va">pop1</span>, start <span class="op">=</span> <span class="fl">100</span>, end <span class="op">=</span> <span class="fl">200</span>, snapshots <span class="op">=</span> <span class="fl">6</span>,</span></span>
<span class="r-in"><span>                   trajectory <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">600</span>, <span class="fl">820</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">800</span>, <span class="fl">400</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">800</span>, <span class="fl">150</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pop1_moved</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> slendr 'population' object </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -------------------------- </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> name: pop1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> habitat: terrestrial</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> number of spatial maps: 10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> map: abstract spatial landscape with custom features</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stays until the end of the simulation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> population history overview:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - time 1: created as an ancestral population (N = 1000)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - time 100-200: movement across a landscape</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># many slendr functions are pipe-friendly, making it possible to construct</span></span></span>
<span class="r-in"><span><span class="co"># pipelines which construct entire history of a population</span></span></span>
<span class="r-in"><span><span class="va">pop1</span> <span class="op">&lt;-</span> <span class="fu"><a href="population.html">population</a></span><span class="op">(</span><span class="st">"pop1"</span>, N <span class="op">=</span> <span class="fl">1000</span>, time <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                   map <span class="op">=</span> <span class="va">map</span>, center <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">800</span><span class="op">)</span>, radius <span class="op">=</span> <span class="fl">100</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="move.html">move</a></span><span class="op">(</span>start <span class="op">=</span> <span class="fl">100</span>, end <span class="op">=</span> <span class="fl">200</span>, snapshots <span class="op">=</span> <span class="fl">6</span>,</span></span>
<span class="r-in"><span>       trajectory <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">400</span>, <span class="fl">800</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">600</span>, <span class="fl">700</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">800</span>, <span class="fl">400</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">800</span>, <span class="fl">150</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="set_range.html">set_range</a></span><span class="op">(</span>time <span class="op">=</span> <span class="fl">300</span>, polygon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">400</span>, <span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">600</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">900</span>, <span class="fl">400</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">800</span>, <span class="fl">250</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">600</span>, <span class="fl">100</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># population ranges can expand by a given distance in all directions</span></span></span>
<span class="r-in"><span><span class="va">pop2</span> <span class="op">&lt;-</span> <span class="fu"><a href="expand_range.html">expand_range</a></span><span class="op">(</span><span class="va">pop2</span>, by <span class="op">=</span> <span class="fl">200</span>, start <span class="op">=</span> <span class="fl">50</span>, end <span class="op">=</span> <span class="fl">150</span>, snapshots <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># we can check the positions of all populations interactively by plotting their</span></span></span>
<span class="r-in"><span><span class="co"># ranges together on a single map</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot_map.html">plot_map</a></span><span class="op">(</span><span class="va">pop1</span>, <span class="va">pop2</span>, <span class="va">pop3</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="compile_model-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># gene flow events --------------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># individual gene flow events can be saved to a list</span></span></span>
<span class="r-in"><span><span class="va">gf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="gene_flow.html">gene_flow</a></span><span class="op">(</span>from <span class="op">=</span> <span class="va">pop1</span>, to <span class="op">=</span> <span class="va">pop3</span>, start <span class="op">=</span> <span class="fl">150</span>, end <span class="op">=</span> <span class="fl">200</span>, rate <span class="op">=</span> <span class="fl">0.15</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="gene_flow.html">gene_flow</a></span><span class="op">(</span>from <span class="op">=</span> <span class="va">pop1</span>, to <span class="op">=</span> <span class="va">pop2</span>, start <span class="op">=</span> <span class="fl">300</span>, end <span class="op">=</span> <span class="fl">330</span>, rate <span class="op">=</span> <span class="fl">0.25</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># compilation -------------------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># compile model components in a serialized form to dist, returning a single</span></span></span>
<span class="r-in"><span><span class="co"># slendr model object (in practice, the resolution should be smaller)</span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu">compile_model</span><span class="op">(</span></span></span>
<span class="r-in"><span>  populations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">pop1</span>, <span class="va">pop2</span>, <span class="va">pop3</span><span class="op">)</span>, generation_time <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  resolution <span class="op">=</span> <span class="fl">100</span>, simulation_length <span class="op">=</span> <span class="fl">500</span>,</span></span>
<span class="r-in"><span>  competition <span class="op">=</span> <span class="fl">5</span>, mating <span class="op">=</span> <span class="fl">5</span>, dispersal <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martin Petr.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

