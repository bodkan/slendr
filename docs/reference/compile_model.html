<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compile the spatial demographic model — compile_model • slendr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Compile the spatial demographic model — compile_model"><meta property="og:description" content="First, compiles the vectorized population spatial maps into a series of
binary raster PNG files, which is the format that SLiM understands and uses
it to define population boundaries. Then extracts the demographic model
defined by the user (i.e. population divergences and gene flow events) into a
series of tables which are later used by the built-in SLiM script to program
the timing of simulation events."><meta property="og:image" content="https://www.slendr.net/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">slendr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-question-circle"></span>
     
    Reference
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/vignette-00-installation.html">Installation instructions</a>
    </li>
    <li>
      <a href="../articles/vignette-01-tutorial.html">Introduction and basic tutorial</a>
    </li>
    <li>
      <a href="../articles/vignette-02-grid-model.html">Demes on a regular spatial grid</a>
    </li>
    <li>
      <a href="../articles/vignette-03-interactions.html">Programming dispersion dynamics</a>
    </li>
    <li>
      <a href="../articles/vignette-04-nonspatial-models.html">Traditional non-spatial models</a>
    </li>
    <li>
      <a href="../articles/vignette-05-tree-sequences.html">Tree sequence processing and statistics</a>
    </li>
    <li>
      <a href="../articles/vignette-06-locations.html">Spatially annotated tree sequences</a>
    </li>
    <li>
      <a href="../articles/vignette-07-backends.html">Simulating data with SLiM and msprime backends</a>
    </li>
    <li>
      <a href="../articles/vignette-08-nonslendr-tskit.html">Analyzing non-slendr tree sequences</a>
    </li>
    <li>
      <a href="../articles/vignette-09-paper.html">Examples from the slendr paper</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/bodkan/slendr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/dr_bodkan" class="external-link">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compile the spatial demographic model</h1>
    <small class="dont-index">Source: <a href="https://github.com/bodkan/slendr/blob/HEAD/R/compilation.R" class="external-link"><code>R/compilation.R</code></a></small>
    <div class="hidden name"><code>compile_model.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>First, compiles the vectorized population spatial maps into a series of
binary raster PNG files, which is the format that SLiM understands and uses
it to define population boundaries. Then extracts the demographic model
defined by the user (i.e. population divergences and gene flow events) into a
series of tables which are later used by the built-in SLiM script to program
the timing of simulation events.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">compile_model</span><span class="op">(</span>
  <span class="va">populations</span>,
  <span class="va">generation_time</span>,
  path <span class="op">=</span> <span class="cn">NULL</span>,
  resolution <span class="op">=</span> <span class="cn">NULL</span>,
  competition <span class="op">=</span> <span class="cn">NULL</span>,
  mating <span class="op">=</span> <span class="cn">NULL</span>,
  dispersal <span class="op">=</span> <span class="cn">NULL</span>,
  gene_flow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,
  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,
  force <span class="op">=</span> <span class="cn">FALSE</span>,
  sim_length <span class="op">=</span> <span class="cn">NULL</span>,
  direction <span class="op">=</span> <span class="cn">NULL</span>,
  slim_script <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"scripts"</span>, <span class="st">"script.slim"</span>, package <span class="op">=</span> <span class="st">"slendr"</span><span class="op">)</span>,
  description <span class="op">=</span> <span class="st">""</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>populations</dt>
<dd><p>Object(s) of the <code>slendr_pop</code> class (multiple objects
need to be specified in a <code>list</code>)</p></dd>
<dt>generation_time</dt>
<dd><p>Generation time (in model time units)</p></dd>
<dt>path</dt>
<dd><p>Output directory for the model configuration files which will be
loaded by the backend SLiM script. If <code>NULL</code>, model configuration
files will be saved to a temporary directory.</p></dd>
<dt>resolution</dt>
<dd><p>How many distance units per pixel?</p></dd>
<dt>competition, mating</dt>
<dd><p>Maximum spatial competition and mating choice
distance</p></dd>
<dt>dispersal</dt>
<dd><p>Standard deviation of the normal distribution of the
parent-offspring distance</p></dd>
<dt>gene_flow</dt>
<dd><p>Gene flow events generated by the <code>gene_flow</code> function
(either a list of data.frame objects in the format defined by the
<code>gene_flow</code> function, or a single data.frame)</p></dd>
<dt>overwrite</dt>
<dd><p>Completely delete the specified directory, in case it
already exists, and create a new one?</p></dd>
<dt>force</dt>
<dd><p>Force a deletion of the model directory if it is already
present? Useful for non-interactive uses. In an interactive mode, the user
is asked to confirm the deletion manually.</p></dd>
<dt>sim_length</dt>
<dd><p>Total length of the simulation (required for forward time
models, optional for models specified in backward time units which by
default run to "the present time")</p></dd>
<dt>direction</dt>
<dd><p>Intended direction of time. Under normal circumstances this
parameter is inferred from the model and does not need to be set manually.</p></dd>
<dt>slim_script</dt>
<dd><p>Path to a SLiM script to be used for executing the model
(by default, a bundled backend script will be used)</p></dd>
<dt>description</dt>
<dd><p>Optional short description of the model</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Compiled <code>slendr_model</code> model object</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="co"># spatial definitions -----------------------------------------------------</span>

<span class="co"># create a blank abstract world 1000x1000 distance units in size</span>
<span class="va">map</span> <span class="op">&lt;-</span> <span class="fu"><a href="world.html">world</a></span><span class="op">(</span>xrange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1000</span><span class="op">)</span>, yrange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1000</span><span class="op">)</span>, landscape <span class="op">=</span> <span class="st">"blank"</span><span class="op">)</span>

<span class="co"># all spatial slendr objects can be visualised with a function plot_map()</span>
<span class="fu"><a href="plot_map.html">plot_map</a></span><span class="op">(</span><span class="va">map</span><span class="op">)</span>

<span class="co"># create a circular population with the center of a population boundary at</span>
<span class="co"># [200, 800] and a radius of 100 distance units, 1000 individuals at time 1</span>
<span class="co"># occupying a map just specified</span>
<span class="va">pop1</span> <span class="op">&lt;-</span> <span class="fu"><a href="population.html">population</a></span><span class="op">(</span><span class="st">"pop1"</span>, N <span class="op">=</span> <span class="fl">1000</span>, time <span class="op">=</span> <span class="fl">1</span>,
                   map <span class="op">=</span> <span class="va">map</span>, center <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">800</span><span class="op">)</span>, radius <span class="op">=</span> <span class="fl">100</span><span class="op">)</span>

<span class="co"># printing a population object to a console shows a brief summary</span>
<span class="va">pop1</span>

<span class="co"># create another population occupying a polygon range, splitting from pop1</span>
<span class="co"># at a given time point (note that specifying a map is not necessary because</span>
<span class="co"># it is "inherited" from the parent)</span>
<span class="va">pop2</span> <span class="op">&lt;-</span> <span class="fu"><a href="population.html">population</a></span><span class="op">(</span><span class="st">"pop2"</span>, N <span class="op">=</span> <span class="fl">100</span>, time <span class="op">=</span> <span class="fl">50</span>, parent <span class="op">=</span> <span class="va">pop1</span>,
                        polygon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">100</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">320</span>, <span class="fl">30</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>, <span class="fl">200</span><span class="op">)</span>,
                                  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>, <span class="fl">400</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">300</span>, <span class="fl">450</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">400</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>

<span class="va">pop3</span> <span class="op">&lt;-</span> <span class="fu"><a href="population.html">population</a></span><span class="op">(</span><span class="st">"pop3"</span>, N <span class="op">=</span> <span class="fl">200</span>, time <span class="op">=</span> <span class="fl">80</span>, parent <span class="op">=</span> <span class="va">pop2</span>,
                   center <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">800</span>, <span class="fl">800</span><span class="op">)</span>, radius <span class="op">=</span> <span class="fl">200</span><span class="op">)</span>

<span class="co"># move "pop1" to another location along a specified trajectory and saved the</span>
<span class="co"># resulting object to the same variable (the number of intermediate spatial</span>
<span class="co"># snapshots can be also determined automatically by leaving out the</span>
<span class="co"># `snapshots = ` argument)</span>
<span class="va">pop1_moved</span> <span class="op">&lt;-</span> <span class="fu"><a href="move.html">move</a></span><span class="op">(</span><span class="va">pop1</span>, start <span class="op">=</span> <span class="fl">100</span>, end <span class="op">=</span> <span class="fl">200</span>, snapshots <span class="op">=</span> <span class="fl">10</span>,
                   trajectory <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">600</span>, <span class="fl">820</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">800</span>, <span class="fl">400</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">800</span>, <span class="fl">150</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="va">pop1_moved</span>

<span class="co"># many slendr functions are pipe-friendly, making it possible to construct</span>
<span class="co"># pipelines which construct entire history of a population</span>
<span class="va">pop1</span> <span class="op">&lt;-</span> <span class="fu"><a href="population.html">population</a></span><span class="op">(</span><span class="st">"pop1"</span>, N <span class="op">=</span> <span class="fl">1000</span>, time <span class="op">=</span> <span class="fl">1</span>,
                   map <span class="op">=</span> <span class="va">map</span>, center <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">800</span><span class="op">)</span>, radius <span class="op">=</span> <span class="fl">100</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="move.html">move</a></span><span class="op">(</span>start <span class="op">=</span> <span class="fl">100</span>, end <span class="op">=</span> <span class="fl">200</span>, snapshots <span class="op">=</span> <span class="fl">10</span>,
       trajectory <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">400</span>, <span class="fl">800</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">600</span>, <span class="fl">700</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">800</span>, <span class="fl">400</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">800</span>, <span class="fl">150</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>

<span class="co"># a population boundary at a given time can be "manually" created by calling</span>
<span class="co"># the function set_range() -- here we extend the pipeline from the previous</span>
<span class="co"># command to set the final spatial map of pop1 to another polygon</span>
<span class="va">pop1</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="population.html">population</a></span><span class="op">(</span>
    <span class="st">"pop1"</span>, N <span class="op">=</span> <span class="fl">1000</span>, time <span class="op">=</span> <span class="fl">1</span>,
    map <span class="op">=</span> <span class="va">map</span>, center <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">800</span><span class="op">)</span>, radius <span class="op">=</span> <span class="fl">100</span>
  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="move.html">move</a></span><span class="op">(</span>
    start <span class="op">=</span> <span class="fl">100</span>, end <span class="op">=</span> <span class="fl">200</span>, snapshots <span class="op">=</span> <span class="fl">10</span>,
    trajectory <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">400</span>, <span class="fl">800</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">600</span>, <span class="fl">700</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">800</span>, <span class="fl">400</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">800</span>, <span class="fl">150</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="set_range.html">set_range</a></span><span class="op">(</span>time <span class="op">=</span> <span class="fl">300</span>, polygon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>
    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">400</span>, <span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">600</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">900</span>, <span class="fl">400</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">800</span>, <span class="fl">250</span><span class="op">)</span>,
    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">600</span>, <span class="fl">100</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span>

<span class="co"># spatial boundaries can be plotted with a function plot_map()</span>
<span class="fu"><a href="plot_map.html">plot_map</a></span><span class="op">(</span><span class="va">pop1</span><span class="op">)</span>

<span class="co"># population ranges can expand by a given distance in all directions</span>
<span class="va">pop2</span> <span class="op">&lt;-</span> <span class="fu"><a href="expand_range.html">expand_range</a></span><span class="op">(</span><span class="va">pop2</span>, by <span class="op">=</span> <span class="fl">200</span>, start <span class="op">=</span> <span class="fl">50</span>, end <span class="op">=</span> <span class="fl">150</span>, snapshots <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>

<span class="co"># we can check the positions of all populations interactively by plotting their</span>
<span class="co"># ranges together on a single map</span>
<span class="fu"><a href="plot_map.html">plot_map</a></span><span class="op">(</span><span class="va">pop1</span>, <span class="va">pop2</span>, <span class="va">pop3</span><span class="op">)</span>

<span class="co"># gene flow events --------------------------------------------------------</span>

<span class="co"># individual gene flow events can be saved to a list</span>
<span class="va">gf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>
  <span class="fu"><a href="gene_flow.html">gene_flow</a></span><span class="op">(</span>from <span class="op">=</span> <span class="va">pop1</span>, to <span class="op">=</span> <span class="va">pop3</span>, start <span class="op">=</span> <span class="fl">150</span>, end <span class="op">=</span> <span class="fl">200</span>, rate <span class="op">=</span> <span class="fl">0.15</span><span class="op">)</span>,
  <span class="fu"><a href="gene_flow.html">gene_flow</a></span><span class="op">(</span>from <span class="op">=</span> <span class="va">pop1</span>, to <span class="op">=</span> <span class="va">pop2</span>, start <span class="op">=</span> <span class="fl">300</span>, end <span class="op">=</span> <span class="fl">330</span>, rate <span class="op">=</span> <span class="fl">0.25</span><span class="op">)</span>
<span class="op">)</span>

<span class="co"># compilation -------------------------------------------------------------</span>

<span class="co"># location where to save slendr model configuration files</span>
<span class="va">model_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"_slendr_model"</span><span class="op">)</span>

<span class="co"># compile model components in a serialized form to dist, returning a single</span>
<span class="co"># slendr model object (in practice, the resolution should be smaller)</span>
<span class="va">model</span> <span class="op">&lt;-</span> <span class="fu">compile_model</span><span class="op">(</span>
  populations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">pop1</span>, <span class="va">pop2</span>, <span class="va">pop3</span><span class="op">)</span>, generation_time <span class="op">=</span> <span class="fl">1</span>,
  path <span class="op">=</span> <span class="va">model_dir</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span>,
  resolution <span class="op">=</span> <span class="fl">10</span>, sim_length <span class="op">=</span> <span class="fl">500</span>,
  competition <span class="op">=</span> <span class="fl">5</span>, mating <span class="op">=</span> <span class="fl">5</span>, dispersal <span class="op">=</span> <span class="fl">1</span>
<span class="op">)</span>

<span class="co"># serialized models can be read from disk to their R representation again</span>
<span class="va">loaded_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="read_model.html">read_model</a></span><span class="op">(</span><span class="va">model_dir</span><span class="op">)</span>

<span class="co"># clean up the model temporary directory</span>
<span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">model_dir</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span>, force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Martin Petr.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'a895c93f0e9eda05eb10b29a9921d586',
    indexName: 'slendr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

