<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Installation instructions • slendr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Installation instructions">
<meta property="og:description" content="slendr">
<meta property="og:image" content="https://www.slendr.net/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">slendr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-question-circle"></span>
     
    Reference
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/vignette-00-installation.html">Installation instructions</a>
    </li>
    <li>
      <a href="../articles/vignette-01-tutorial.html">Introduction and basic tutorial</a>
    </li>
    <li>
      <a href="../articles/vignette-02-grid-model.html">Demes on a regular spatial grid</a>
    </li>
    <li>
      <a href="../articles/vignette-03-interactions.html">Programming dispersion dynamics</a>
    </li>
    <li>
      <a href="../articles/vignette-04-nonspatial-models.html">Traditional non-spatial models</a>
    </li>
    <li>
      <a href="../articles/vignette-05-tree-sequences.html">Tree sequence processing and statistics</a>
    </li>
    <li>
      <a href="../articles/vignette-06-locations.html">Spatially annotated tree sequences</a>
    </li>
    <li>
      <a href="../articles/vignette-07-backends.html">Simulating data with SLiM and msprime backends</a>
    </li>
    <li>
      <a href="../articles/vignette-08-nonslendr-tskit.html">Analyzing non-slendr tree sequences</a>
    </li>
    <li>
      <a href="../articles/vignette-09-paper.html">Examples from the slendr paper</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/bodkan/slendr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/dr_bodkan" class="external-link">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Installation instructions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/bodkan/slendr/blob/HEAD/vignettes/vignette-00-installation.Rmd" class="external-link"><code>vignettes/vignette-00-installation.Rmd</code></a></small>
      <div class="hidden name"><code>vignette-00-installation.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="quick-installation">Quick installation<a class="anchor" aria-label="anchor" href="#quick-installation"></a>
</h2>
<p><em>slendr</em> is currently in the process of the first CRAN
submission which is why it can’t be installed with simple
<code>install.packages("slendr")</code> just yet.</p>
<p>For the moment, <strong>the easiest way to install it is to get its
development version directly from GitHub by executing
<code>devtools::install_github("bodkan/slendr")</code></strong> via the
R package <em>devtools</em> (
<code>install.packages("devtools")</code>). In fact, if you decide to
try <em>slendr</em>, please make sure to update it regularly and keep an
eye on the <a href="https://slendr.net/news/index.html" class="external-link">changelog</a> on
a regular basis!</p>
<p>Once you install <em>slendr</em>, <strong>calling
<code><a href="https://github.com/bodkan/slendr" class="external-link">library(slendr)</a></code> will check that all software dependencies
are available</strong>. If they are not, the R package will provide a
brief helpful guide on how to resolve potential issues. The rest of this
vignette talks about the necessary software dependencies in a bit more
detail.</p>
<p><strong>Please note that <em>slendr</em> is only supported on macOS
and Linux at the moment.</strong> However, because <em>slendr</em>’s
software dependencies are already available on Windows, I hope to make
the R package fully portable as soon as I get access to a Windows
machine to do proper testing on. If you are a Windows user and would
like to help, <a href="https://www.bodkan.net" class="external-link">please get in
touch</a>!</p>
</div>
<div class="section level2">
<h2 id="software-dependencies">Software dependencies<a class="anchor" aria-label="anchor" href="#software-dependencies"></a>
</h2>
<p><em>slendr</em> relies on three main software dependencies:</p>
<ol style="list-style-type: decimal">
<li><p>geospatial data analysis R package <a href="https://r-spatial.github.io/sf" class="external-link"><em>sf</em></a> (for encoding
spatial <em>slendr</em> models and analysing spatial tree-sequence
data),</p></li>
<li><p>forward population genetic simulator <a href="https://messerlab.org/slim/" class="external-link">SLiM</a> (for forward
simulations),</p></li>
<li><p>Python modules <a href="https://tskit.dev/" class="external-link"><em>tskit</em>,
<em>msprime</em>, and <em>pyslim</em></a> (for coalescent simulations
and tree-sequence analysis).</p></li>
</ol>
<p>All three are widely used in their respective fields and, as such,
are easily obtainable on all major operating systems (see below for more
information on how to troubleshoot potential problems).</p>
<p><strong>Note that depending on your use case, not all three sets of
dependencies will be necessarily needed.</strong> If you’re not going to
be running forward spatial simulations, you don’t need SLiM. If you
don’t want to analyze tree sequences in R, you won’t need
<em>slendr</em>’s Python dependencies.</p>
<p>In this vignette, I will briefly explain how to get all
<em>slendr’</em>s software dependencies installed. That said, note that
under normal circumstances (with the exception of SLiM), no manual
installation of individual dependencies is required.</p>
<div class="section level3">
<h3 id="sf">
<em>sf</em><a class="anchor" aria-label="anchor" href="#sf"></a>
</h3>
<p>The R package <em>sf</em> is at the heart of geospatial data analysis
in R. It is available on CRAN and can be installed for all major
platforms by executing <code>install.packages("sf")</code> in your R
session.</p>
<p>When you install <em>slendr</em> (see the very top of this page), the
installation procedure will automatically install <em>sf</em> for you.
Under normal circumstances, you should not have to worry about
<em>sf</em> at all.</p>
<p>That said, <em>sf</em> itself depends on a number of geospatial
libraries and depending on the exact setup of your Linux or macOS
machine, some of those libraries could be missing. Luckily, all of them
are very easy to install via Homebrew (on macOS) or via the appropriate
package manager of your Linux distribution (Ubuntu, Fedora, etc.).
Detailed instructions on how to do this for your operating system can be
found <a href="https://r-spatial.github.io/sf/index.html#installing" class="external-link">here</a>.</p>
<p><strong>If you’re having trouble installing <em>slendr</em> in your R
session, it’s worth testing whether you can run
<code>install.packages("sf")</code> and successfully load
<code><a href="https://r-spatial.github.io/sf/" class="external-link">library(sf)</a></code>.</strong> In nearly 100% cases of my test
cases, if a <em>slendr</em> installation failed, it was due to a problem
with some missing dependency of <em>sf</em>. If you’re having these
problems, look for help <a href="https://r-spatial.github.io/sf/index.html#installing" class="external-link">here</a>.</p>
<div class="section level4">
<h4 id="macos">
<strong>macOS</strong><a class="anchor" aria-label="anchor" href="#macos"></a>
</h4>
<p>One user who recently installed <em>slendr</em> on a fresh macOS
system reported that they needed to install <code>libgit2</code> in
order to be able to install the package <em>devtools</em> for the
<code>devtools::install_github("bodkan/slendr")</code> step described on
top of this page. Additionally, they had to install a couple of C/C++
libraries as well (all dependencies of the <em>sf</em> package). In the
end, they were able to successfully install <em>slendr</em> after
running:</p>
<pre><code>brew install libgit2 udunits gdal proj</code></pre>
<p>Note that this assumes that you have the <a href="https://brew.sh/" class="external-link">Homebrew</a> package manager already setup on
your Mac. If you’re a beginning computational scientist using a Mac, I
strongly encourage you to install Homebrew. Sooner or later you will
need some specific Linux/unix program anyway, and Homebrew is the way to
get it (Mac is a unix machine, but without Homebrew a very poor one by
default).</p>
</div>
</div>
<div class="section level3">
<h3 id="slim">SLiM<a class="anchor" aria-label="anchor" href="#slim"></a>
</h3>
<p>The forward population genetic software SLiM is available on all
major software platforms. Its complete installation instructions can be
found <a href="https://messerlab.org/slim/" class="external-link">here</a>. On a Mac, I
recommend installing SLiM via the <code>pkg</code> installer available
for direct download from its <a href="https://messerlab.org/slim/" class="external-link">website</a>. On Linux, you can either
install SLiM via the appropriate package manager for your Linux
distribution (see SLiM manual <a href="https://messerlab.org/slim/" class="external-link">here</a> for more information), or
you can easily compile your own.</p>
<p>Note that <em>slendr</em> requires SLiM 3.7.1 and will not work with
an earlier version. Again, running <code><a href="https://github.com/bodkan/slendr" class="external-link">library(slendr)</a></code> will
inform you of any potential issues with your SLiM installation.</p>
</div>
<div class="section level3">
<h3 id="python">Python<a class="anchor" aria-label="anchor" href="#python"></a>
</h3>
<p>In order to be able to run coalescent simulations and process
tree-sequence files, <em>slendr</em> needs Python modules
<em>tskit</em>, <em>msprime</em>, and <em>pyslim.</em></p>
<p>Setting up an isolated Python environment with specific version of
Python packages (which is very important to avoid clashes among
different Python programs needed by your system) can be a <a href="https://xkcd.com/1987/" class="external-link">bit of a hassle</a> for some users. This
is especially true for R users who might not use Python in their daily
work, such as yours truly.</p>
<p>In order to make sure that the R package has the most appropriate
version of Python available, with the correct versions of all of its
Python module dependencies, <em>slendr</em> provides a dedicated
function <code><a href="../reference/setup_env.html">setup_env()</a></code> which automatically <strong>downloads
a completely separate Python distribution and installs the required
versions of <em>tskit</em>, <em>msprime</em>, and <em>pyslim</em>
modules into a dedicated virtual environment</strong>. Moreover, this
Python installation and virtual environment are <strong>entirely
isolated from other Python configurations that are already present on
the user’s system</strong>, avoiding potential conflicts with the
versions of Python and Python modules required by <em>slendr</em>.</p>
<p>Not only that, after this dedicated Python environment is created,
<strong>calling <code><a href="https://github.com/bodkan/slendr" class="external-link">library(slendr)</a></code> at any later point will
activate this environment automatically</strong>. Therefore, despite
using Python for internal handling of tree-sequence data and coalescent
simulation, no interaction with Python is necessary for working with
<em>slendr</em> in R.</p>
<p><strong>You only have to call <code><a href="../reference/setup_env.html">setup_env()</a></code> once!</strong>
After that, everything will be taken care of by
<code><a href="https://github.com/bodkan/slendr" class="external-link">library(slendr)</a></code> automatically.</p>
<div class="section level4">
<h4 id="information-for-python-experts">Information for Python experts<a class="anchor" aria-label="anchor" href="#information-for-python-experts"></a>
</h4>
<p>In case you are wondering how does <em>slendr</em> accomplish the
above: <em>slendr</em>’s Python interface is not a hack that would
simply call Python from the command-line in the background, but is
implemented using the R package <a href="https://rstudio.github.io/reticulate/" class="external-link"><em>reticulate</em></a><em>.</em>
This embeds a Python session within an R session, enabling
high-performance interoperability between both languages without any
need for user intervention.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="docker">Docker<a class="anchor" aria-label="anchor" href="#docker"></a>
</h2>
<p>There is currently no official Docker image for <em>slendr</em> but
there will be once the R package finally lands on the official CRAN
repository. The current plan is to use the geospatial image published by
the <a href="https://www.rocker-project.org/" class="external-link">Rocker project</a> (which
already contains pre-compiled R, RStudio, and all necessary R package
dependencies such as <em>sf</em> ) and extend it with <em>slendr</em>
and SLiM.</p>
<p>Stay tuned!</p>
</div>
<div class="section level2">
<h2 id="renv">renv<a class="anchor" aria-label="anchor" href="#renv"></a>
</h2>
<p>TODO: Advertise the <a href="https://rstudio.github.io/renv/articles/renv.html" class="external-link">renv</a>
solution for managing reproducible environments for R packages.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Martin Petr.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'a895c93f0e9eda05eb10b29a9921d586',
    indexName: 'slendr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
