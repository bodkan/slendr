<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • slendr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://www.slendr.net/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">slendr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">
    <span class="fa fa-question-circle"></span>
     
    Reference
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--articles">
    <span class="fa fa-book"></span>
     
    Articles
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--articles">
    <a class="dropdown-item" href="../articles/vignette-00-installation.html">Installation instructions</a>
    <a class="dropdown-item" href="../articles/vignette-01-tutorial.html">Introduction and basic tutorial</a>
    <a class="dropdown-item" href="../articles/vignette-02-grid-model.html">Demes on a regular spatial grid</a>
    <a class="dropdown-item" href="../articles/vignette-03-interactions.html">Programming dispersion dynamics</a>
    <a class="dropdown-item" href="../articles/vignette-04-nonspatial-models.html">Traditional non-spatial models</a>
    <a class="dropdown-item" href="../articles/vignette-05-tree-sequences.html">Tree sequence processing and statistics</a>
    <a class="dropdown-item" href="../articles/vignette-06-locations.html">Spatially annotated tree sequences</a>
    <a class="dropdown-item" href="../articles/vignette-07-backends.html">Simulating data with SLiM and msprime backends</a>
    <a class="dropdown-item" href="../articles/vignette-08-nonslendr-tskit.html">Analyzing non-slendr tree sequences</a>
    <a class="dropdown-item" href="../articles/vignette-09-paper.html">Examples from the slendr paper</a>
    <a class="dropdown-item" href="../articles/vignette-10-tracts.html">Extracting true ancestry tracts</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/bodkan/slendr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/fleventy5">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/bodkan/slendr/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.0" id="slendr-090">slendr 0.9.0<a class="anchor" aria-label="anchor" href="#slendr-090"></a></h2>
<ul><li><p>A full support for running SLiM and <em>msprime</em> simulations with <em>slendr</em> and for analyzing tree sequences using its <a href="https://tskit.dev" class="external-link"><em>tskit</em></a> interface has been implemented. Please note that the Windows support is still rather experimental – the internal <em>slendr</em> test suite currently assumes that SLiM has been installed using the <em>msys2</em> system as described in the section 2.3.1 of the SLiM manual and other means of installing SLiM (such as via conda) might require additional adjustments. A fallback option in the form of the <code>slim_path=</code> argument of the <code><a href="../reference/slim.html">slim()</a></code> function can be used in non-standard SLiM installation circumstances. For most convenience, please add the path to the directory containing the <code>slim.exe</code> binary to the <code>PATH</code> variable by editing the <code>C:/Users/&lt;username&gt;/Documents/.Renviron</code> file accordingly. See the relevant section on Windows installation in the <a href="https://www.slendr.net/articles/vignette-00-installation.html"><em>slendr</em> documentation</a> for additional information. Feedback on the Windows functionality and bug reports are highly appreciated via <a href="https://github.com/bodkan/slendr/issues" class="external-link">GitHub</a> issues! <strong>Many thanks to <a href="https://github.com/GKresearch" class="external-link">@GKresearch</a> and <a href="https://github.com/rdinnager" class="external-link">@rdinnager</a> for their huge help in making the Windows port happen!</strong> [PR <a href="https://github.com/bodkan/slendr/issues/149" class="external-link">#149</a>]</p></li>
<li><p>A trivial change has been made to <em>slendr</em>’s SLiM back-end script fixing the issue introduced in a SLiM 4.1 upgrade (see changelog for version 0.8.1 below). This is not expected to lead to different simulation outputs between the two versions of slendr (0.8.2 vs 0.8.1) or SLiM (4.1 vs 4.0.1) used. (<a href="https://github.com/bodkan/slendr/pull/148" class="external-link">PR </a><a href="https://github.com/bodkan/slendr/issues/148" class="external-link">#148</a>)</p></li>
<li><p>The <em>msprime</em> internal dependency of <em>slendr</em> was updated to 1.3.0, and Python to 3.12. As a result, after loading <em>slendr</em>, users will be prompted to re-run <code><a href="../reference/setup_env.html">setup_env()</a></code> to make sure that the dedicated <em>slendr</em> Python environment is fully updated. At the same time, this prevents a failing installation on (at the very least) M1 macOS using <code>pip</code>. (<a href="https://github.com/bodkan/slendr/commit/5ce212" class="external-link">#5ce212</a>, <a href="https://github.com/bodkan/slendr/commit/a210d4" class="external-link">#a210d4</a>)</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.1" id="slendr-081">slendr 0.8.1<a class="anchor" aria-label="anchor" href="#slendr-081"></a></h2><p class="text-muted">CRAN release: 2024-01-15</p>
<ul><li><p>Fixed an <a href="https://github.com/bodkan/slendr/issues/143" class="external-link">issue</a> of apparent contradiction in time direction in models where range expansion was scheduled within some time interval together with associated “locked-in” changes in population size over that time interval. (<a href="https://github.com/bodkan/slendr/commit/d2a29e" class="external-link">#d2a29e</a>)</p></li>
<li><p>The introduction of <em>tspop</em> which is only installable via pip (see changelog for the previous version) caused GLIBCXX-related errors between conda and pip dependencies related to the pandas Python package. To work around this issue, <code><a href="../reference/setup_env.html">setup_env()</a></code> no longer installs <em>pandas</em> from conda regardless of the setting of the <code>pip = TRUE|FALSE</code> parameter. Instead, <em>pandas</em> is installed via pip in a single step when <em>tspop</em> is being installed. (<a href="https://github.com/bodkan/slendr/commit/cbe960" class="external-link">#cbe960</a>)</p></li>
</ul><hr><p><strong>WARNING</strong>: SLiM 4.1 which has just been released includes a couple of <a href="https://github.com/MesserLab/SLiM/releases/tag/v4.1" class="external-link">backwards incompatible changes</a> related to the implementation of spatial maps which prevent the current version of <em>slendr</em>’s <code><a href="../reference/slim.html">slim()</a></code> function from working correctly. If you rely on the functionality provided by the <code><a href="../reference/slim.html">slim()</a></code> function, you will have to use SLiM 4.0. (Note that if you want to have multiple versions of SLiM on your system, you can either use the <code>slim_path =</code> argument of <code><a href="../reference/slim.html">slim()</a></code> or specify the <code>$PATH</code> to the required version of SLiM in your <code>~/.Renviron</code> file just like you do under normal circumstances). Porting <em>slendr</em> for SLiM 4.1 is being worked on.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.0" id="slendr-080">slendr 0.8.0<a class="anchor" aria-label="anchor" href="#slendr-080"></a></h2><p class="text-muted">CRAN release: 2023-12-07</p>
<ul><li><p>In order to support the new <code><a href="../reference/ts_tracts.html">ts_tracts()</a></code> function backed by the <em>tspop</em> module (see the item below), a new <em>slendr</em> Python environment is required. As such, users will have to run <code><a href="../reference/setup_env.html">setup_env()</a></code> to get all the required Python dependencies which will be now installed in the internal virtual environment named <code>Python-3.11_msprime-1.2.0_tskit-0.5.6_pyslim-1.0.4_tspop-0.0.2</code>. (<a href="https://github.com/bodkan/slendr/commit/b5330c" class="external-link">#b5330c</a>)</p></li>
<li><p>Experimental support for the <a href="https://tspop.readthedocs.io/en/latest/" class="external-link"><em>tspop</em></a> <code>link-ancestors</code> algorithm for detection of ancestry tracts in the form of a new <em>slendr</em> function <code><a href="../reference/ts_tracts.html">ts_tracts()</a></code>. Only works on <em>slendr</em>-generated <em>msprime</em> tree sequences and “pure” <em>msprime</em> and SLiM tree sequences (not <em>slendr</em>-generated SLiM tree sequences), and has been only tested on a few toy models. <strong>Note:</strong> the <em>tspop</em> Python module is not published on conda. In order to set up a new <em>slendr</em> Python environment, you will have to run <code>setup_env(pip = TRUE)</code> to make sure that Python dependencies are installed with pip instead of conda. (<a href="https://github.com/bodkan/slendr/pull/145" class="external-link">PR </a><a href="https://github.com/bodkan/slendr/issues/145" class="external-link">#145</a>)</p></li>
<li><p>Updated Python dependencies (bugfix pyslim release <a href="https://github.com/tskit-dev/pyslim/releases/tag/1.0.4" class="external-link">v1.0.4</a> and tskit <a href="https://github.com/tskit-dev/tskit/releases/tag/0.5.6" class="external-link">v0.5.6</a>, the latter due to a broken <code>jsonschema</code> dependency of tskit). (<a href="https://github.com/bodkan/slendr/commit/001ee5" class="external-link">#001ee5</a>)</p></li>
<li><p>Experimental support for <a href="https://github.com/bodkan/slendr/pull/144" class="external-link">manually created</a> spatial tree sequences. (<a href="https://github.com/bodkan/slendr/pull/144" class="external-link">PR </a><a href="https://github.com/bodkan/slendr/issues/144" class="external-link">#144</a>)</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.2" id="slendr-072">slendr 0.7.2<a class="anchor" aria-label="anchor" href="#slendr-072"></a></h2><p class="text-muted">CRAN release: 2023-08-08</p>
<ul><li><p>A new function <code><a href="../reference/ts_names.html">ts_names()</a></code> has been added, avoiding the need for the extremely frequent (and, unfortunately, cumbersome) trick of getting named lists of individual symbolic names <code>ts_samples(ts) %&gt;% split(., .[[split]]) %&gt;% lapply(</code>[[<code>, "name")</code> which is very confusing for all but the more experienced R users. (<a href="https://github.com/bodkan/slendr/commit/7db6ea" class="external-link">#7db6ea</a>)</p></li>
<li><p>Fixed broken concatenation of symbolic sample names in tree-sequence statistic functions, when those were provided as unnamed single-element lists of character vectors. (<a href="https://github.com/bodkan/slendr/commit/b3c650" class="external-link">#b3c650</a>)</p></li>
<li><p><code><a href="../reference/plot_model.html">plot_model()</a></code> now has an argument <code>file =</code>, making it possible to save a visualization of a model without actually opening a plotting device. This can be useful particularly while working on a remote server, in order to avoid the often slow X11 rendering. (<a href="https://github.com/bodkan/slendr/commit/e60078" class="external-link">#e60078</a>)</p></li>
<li><p><code><a href="../reference/plot_model.html">plot_model()</a></code> now has an argument <code>order =</code> allowing to override the default <a href="https://en.wikipedia.org/wiki/Tree_traversal#Inorder_traversal" class="external-link">in-order</a> ordering of populations along the x-axis. (<a href="https://github.com/bodkan/slendr/commit/7a10ea" class="external-link">#7a10ea</a>)</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.1" id="slendr-071">slendr 0.7.1<a class="anchor" aria-label="anchor" href="#slendr-071"></a></h2><p class="text-muted">CRAN release: 2023-07-14</p>
<ul><li>
<strong>Starting from this release, the *spatial* simulation and data analysis functionality of <em>slendr</em> is conditional on the presence of R geospatial packages <em>sf</em>, <em>stars</em>, and <em>rnaturalearth</em> on the system. This means that users will be able to install <em>slendr</em> (and use all of its non-spatial functionality) even without having these R packages installed. That said, nothing really changes in practice: spatial features of <em>slendr</em> are just one <code>install.packages(c("sf", "stars", "rnaturalearth"))</code> away! The difference is that <em>slendr</em> doesn’t try to do this during its own installation, but users are instructed to do this themselves (if needed) when the package is loaded.</strong> (<a href="https://github.com/bodkan/slendr/commit/7a10ea" class="external-link">#7a10ea</a>)</li>
</ul><p>If spatial dependencies are not present but a spatial <em>slendr</em> function is called regardless (such as <code><a href="../reference/world.html">world()</a></code>, <code><a href="../reference/move.html">move()</a></code>, etc.), an error message is printed with an information on how to install spatial dependencies via <code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code> as above.</p>
<p><strong>Why?</strong> It’s true that the main reason for <em>slendr</em>’s existence is its ability to simulate spatio-temporal data on realistic landscapes via SLiM. However, in practice, most of the “average” uses of <em>slendr</em> in the wild (and in classrooms!) rely on its traditional, non-spatial interface, with its spatial features being used comparatively rarely at the moment (except for some cutting-edge exploratory research). Given that setting up all of the spatial dependencies can be a bit of a hurdle, we have decided to make these dependencies optional, rather than force <em>every</em> user to go through the process of their installation whether they need the spatial features or not.</p>
<ul><li><p>A function <code><a href="../reference/check_dependencies.html">check_dependencies()</a></code> is now exported and can be used to check whether a <em>slendr</em> Python environment () or SLiM () are present. This is useful for other software building upon <em>slendr</em>, normal users can freely ignore this. (<a href="https://github.com/bodkan/slendr/commit/6ae6ce" class="external-link">#6ae6ce</a>)</p></li>
<li><p>A path to a file from which a tree sequence was loaded from is now tracked internally via a <code>attr(&lt;tree sequence&gt;, "path")</code> attribute. Note that this has been implemented for the purposes of clean up for large-scale simulation studies (such as those facilitated by <a href="https://github.com/bodkan/demografr/" class="external-link"><em>demografr</em></a>) as a mostly internal feature, and should be considered experimental. (<a href="https://github.com/bodkan/slendr/commit/f181a2" class="external-link">#f181a2</a>)</p></li>
<li><p>Attempts to resize a population right at the time of the split (which led to issues with simulations) are now prevented. (<a href="https://github.com/bodkan/slendr/commit/f181a2" class="external-link">#f181a2</a>)</p></li>
<li><p>Fix for a minor issue preventing sampling an <em>msprime</em> population right at the time of its creation. (<a href="https://github.com/bodkan/slendr/commit/aea231" class="external-link">#aea231</a>)</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.0" id="slendr-070">slendr 0.7.0<a class="anchor" aria-label="anchor" href="#slendr-070"></a></h2><p class="text-muted">CRAN release: 2023-06-26</p>
<p><strong>This is an emergency upgrade to match the latest pyslim 1.0.3 due to a serious bug in recapitation.</strong> See <a href="https://github.com/tskit-dev/pyslim/issues/307" class="external-link">here</a> and <a href="https://github.com/bodkan/slendr/issues/141" class="external-link">here</a> for an extensive discussion during the process of identification of the bug and its eventual fix. For a brief summary of the practical consequences of this bug, see <a href="https://ecoevo.social/@petrelharp/110583379684954818" class="external-link">this</a> thread by pyslim’s developer and its formal announcement <a href="https://groups.google.com/g/slim-discuss/c/Rtkkx_8pW58/m/PRyu9kpBAAAJ" class="external-link">here</a>.</p>
<ul><li><p>This change will require you to re-run <code><a href="../reference/setup_env.html">setup_env()</a></code> in order to update slendr’s Python internals by creating a new internal Python virtual environment. (<a href="https://github.com/bodkan/slendr/commit/45539a" class="external-link">#45539a</a>)</p></li>
<li><p>A potential issue with a parent population being scheduled for removal before a daughter population splits from it is now caught at the moment of the daughter <code><a href="../reference/population.html">population()</a></code> call rather than during a simulation <code><a href="../reference/slim.html">slim()</a></code> run. (<a href="https://github.com/bodkan/slendr/commit/0791b5" class="external-link">#0791b5</a>)</p></li>
<li><p>The function <code><a href="../reference/plot_model.html">plot_model()</a></code> has a new argument <code>gene_flow=&lt;TRUE|FALSE&gt;</code> which determines whether gene-flow arrows will be visualized or not. (<a href="https://github.com/bodkan/slendr/commit/104aa6" class="external-link">#104aa6</a>)</p></li>
<li><p>The possibility to perform recapitation, simplification, or mutation of a tree sequence right inside a call to <code><a href="../reference/ts_load.html">ts_load()</a></code> (by providing <code>recapitate = TRUE</code>, <code>simplify = TRUE</code>, and <code>mutate = TRUE</code>, together with their own arguments) has now been removed. The motivation for this change is the realization that there is no benefit of doing things like <code>ts_load("&lt;path&gt;", recapitate = TRUE, Ne = ..., recombination_rate = ...)</code> over <code>ts_load("&lt;path&gt;") %&gt;% ts_recapitate(Ne = ..., recombination_rate = ...)</code>, and the frequent confusion when <code>recapitate = TRUE</code> or other switches are forgotten by the user. All <em>slendr</em> teaching material and most actively used research codebases I know of use the latter, more explicit, pipeline approach anyway, and this has been the one example where reduncancy does more harm than good. (<a href="https://github.com/bodkan/slendr/commit/ad82ee" class="external-link">#ad82ee</a>)</p></li>
</ul><p><strong>Note:</strong> Loading <code><a href="https://github.com/bodkan/slendr" class="external-link">library(slendr)</a></code> will prompt a message <em>“The legacy packages maptools, rgdal, and rgeos, underpinning the sp package, which was just loaded, will retire in October 2023. […].”</em> This is an internal business of packages used by <em>slendr</em> which unfortunately cannot be silenced from <em>slendr</em>’s side. There’s no reason to panic, you can safely ignore them. Apologies for the unnecessary noise.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.0" id="slendr-060">slendr 0.6.0<a class="anchor" aria-label="anchor" href="#slendr-060"></a></h2><p class="text-muted">CRAN release: 2023-06-07</p>
<p>This is a relatively large update, which unfortunately had to be released in haste due to the <a href="https://r-spatial.org/r/2023/05/15/evolution4.html" class="external-link">retirement of the <em>rgdal</em> package</a> – a significant dependency of the entire spatial R ecosystem which is being phased out in the effort to move towards modern low-level geospatial architecture. Although <em>slendr</em> itself does not depend on <em>rgdal</em>, many of its dependencies used to (but won’t in the short term, hence the push to remove the <em>rgdal</em> dependency). The most significant update has been the addition of IBD functionality of <em>tskit</em>, as described below. However, large part of this functionality has not been extensively tested and should be considered extremely experimental at this stage. If you would like to use it, it might be safer to either wait for a later release in which the IBD functionality will be more stable, or use the underlying, battle-tested <a href="https://tskit.dev/tskit/docs/stable/python-api.html#tskit.TreeSequence.ibd_segments" class="external-link">Python implementation in <em>tskit</em></a>.</p>
<ul><li><p><code><a href="../reference/ts_ibd.html">ts_ibd()</a></code> now returns the ID number of a MRCA node of a pair of nodes sharing a given IBD segment, as well as the TMRCA of that node. (<a href="https://github.com/bodkan/slendr/commit/7e2825" class="external-link">#7e2825</a>)</p></li>
<li><p>Trivial parameter errors are caught during <code><a href="../reference/population.html">population()</a></code> calls rather than during simulation (solving minor issues discovered via big simulation runs during the development of <a href="https://github.com/bodkan/demografr" class="external-link"><em>demografr</em></a>). (<a href="https://github.com/bodkan/slendr/commit/e33373" class="external-link">#e33373</a>)</p></li>
<li><p>Fix error in plotting exponential resizes which do not last until “the present”. (<a href="https://github.com/bodkan/slendr/commit/4c49a4" class="external-link">#4c49a4</a>)</p></li>
<li><p><code><a href="../reference/ts_ibd.html">ts_ibd()</a></code> no longer gives obscure error when <code>between =</code> is provided as a named list of individuals’ names (instead of an expected unnamed list). The names of list elements are not used in any way, but the error happens somewhere deeply in the R-&gt;Python translation layer inside <a href="https://rstudio.github.io/reticulate/" class="external-link"><em>reticulate</em></a> and there’s no need for the users to concern themselves with it. (<a href="https://github.com/bodkan/slendr/commit/7965e4" class="external-link">#7965e4</a>)</p></li>
<li><p>Population size parameters and times are now explicitly converted to integer numbers. This is more of an internal, formal change (the conversion has been happening implicitly inside the SLiM engine anyway) but is now explicitly stated, also in the documentation of each relevant function. (<a href="https://github.com/bodkan/slendr/commit/b7e89e" class="external-link">#b7e89e</a>)</p></li>
<li><p>Population names are now restricted to only those strings which are also valid Python identifiers. Although this restriction is only needed for the msprime back end of <em>slendr</em> (not SLiM), it makes sense to keep things tidy and unified. This fixes msprime crashing with <code>ValueError: A population name must be a valid Python identifier</code>. (<a href="https://github.com/bodkan/slendr/commit/4ef518" class="external-link">#4ef518</a>)</p></li>
<li><p>The layout algorithm of <code><a href="../reference/plot_model.html">plot_model()</a></code> has been improved significantly. (PR <a href="https://github.com/bodkan/slendr/pull/135" class="external-link">#135</a>).</p></li>
<li><p>A new optional argument <code>run =</code> has been added to <code><a href="../reference/slim.html">slim()</a></code> and <code><a href="../reference/msprime.html">msprime()</a></code>. If set to <code>TRUE</code> (the default), the engines will operate the usual way. If set to <code>FALSE</code>, no simulation will be run and the functions will simply print a command-line command to execute the engine in question (returning the CLI command invisibly). (<a href="https://github.com/bodkan/slendr/commit/2e5b85" class="external-link">#2e5b85</a>)</p></li>
<li><p>The following start-up note is no longer shown upon calling <code><a href="https://github.com/bodkan/slendr" class="external-link">library(slendr)</a></code>:</p></li>
</ul><pre><code>    NOTE: Due to Python setup issues on some systems which have been
    causing trouble particularly for novice users, calling library(slendr)
    no longer activates slendr's Python environment automatically.
    In order to use slendr's msprime back end or its tree-sequence
    functionality, users must now activate slendr's Python environment
    manually by executing init_env() after calling library(slendr).
    (This note will be removed in the next major version of slendr.)</code></pre>
<p>Users have to call <code><a href="../reference/init_env.html">init_env()</a></code> to manually activate the Python environment of slendr (see note under version 0.5.0 below for an extended explanation).</p>
<ul><li><p><code><a href="../reference/ts_simplify.html">ts_simplify()</a></code> now accepts optional arguments <code>keep_unary</code> and <code>keep_unary_in_individuals</code> (see the official <a href="https://tskit.dev/tskit/docs/stable/python-api.html#tskit.TreeSequence.simplify" class="external-link">tskit docs</a> for more detail) (<a href="https://github.com/bodkan/slendr/commit/1b2112" class="external-link">#1b2112</a>)</p></li>
<li><p>Fix for <code><a href="../reference/ts_load.html">ts_load()</a></code> failing to load <em>slendr</em>-produced tree sequences after they were simplified down to a smaller set of sampled individuals (reported <a href="https://github.com/bodkan/slendr/issues/136" class="external-link">here</a>). The issue was caused by incompatible sizes of the sampling table (always in the same form as used during simulation) and the table of individuals stored in the tree sequence after simplification (potentially containing a smaller set of individuals than in the original sampling table). To fix this, <em>slendr</em> tree sequence objects now track information about which individuals are regarded as “samples” (i.e. those with symbolic names) which is maintained through simplification, serialization and loading, and used by <em>slendr</em>’s internal machinery during join operations. (PR <a href="https://github.com/bodkan/slendr/pull/137" class="external-link">#137</a>)</p></li>
<li><p>Metadata summary of <code><a href="../reference/ts_nodes.html">ts_nodes()</a></code> results is no longer printed whenever typed into the R console. Instead, summary can be obtained by explicit call to <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> on the <code><a href="../reference/ts_nodes.html">ts_nodes()</a></code> tables. (<a href="https://github.com/bodkan/slendr/commit/01af51" class="external-link">#01af51</a></p></li>
<li><p><code><a href="../reference/ts_tree.html">ts_tree()</a></code> and <code><a href="../reference/ts_phylo.html">ts_phylo()</a></code> now extract trees based on tskit’s own zero-based indexing <a href="https://github.com/bodkan/slendr/commit/554e13" class="external-link">#554e13</a>.</p></li>
<li><p><code><a href="../reference/ts_simplify.html">ts_simplify()</a></code> now accepts <code>filter_nodes = TRUE|FALSE</code>, with the same behavior to tskit’s <a href="https://tskit.dev/tskit/docs/stable/python-api.html#tskit.TreeSequence.simplify" class="external-link">own method</a> <a href="https://github.com/bodkan/slendr/commit/f07ffed" class="external-link">#f07ffed</a>.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.1" id="slendr-051">slendr 0.5.1<a class="anchor" aria-label="anchor" href="#slendr-051"></a></h2><p class="text-muted">CRAN release: 2023-03-09</p>
<ul><li><p>This minor release implements an emergency fix for a CRAN warning which suddenly popped up in latest CRAN checks. (<a href="https://github.com/bodkan/slendr/commit/5600a4" class="external-link">#5600a4</a>)</p></li>
<li><p>A new function <code><a href="../reference/ts_ibd.html">ts_ibd()</a></code> has been added, representing an R interface to the <em>tskit</em> method <code>TreeSequence.ibd_segments()</code>. However, note that <code><a href="../reference/ts_ibd.html">ts_ibd()</a></code> returns IBD results as a data frame (optionally, a spatially annotated <em>sf</em> data frame). The function does not operate around iteration, as does its Python counterpart in <em>tskit</em>. Until the next major version of <em>slendr</em>, this function should be considered experimental. (PR <a href="https://github.com/bodkan/slendr/pull/123" class="external-link">#123</a>)</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="slendr-050">slendr 0.5.0<a class="anchor" aria-label="anchor" href="#slendr-050"></a></h2><p class="text-muted">CRAN release: 2023-02-02</p>
<ul><li>
<strong><u>Minor breaking change!</u> Python environments of <em>slendr</em> are no longer automatically activated upon calling <code><a href="https://github.com/bodkan/slendr" class="external-link">library(slendr)</a></code>! Using the coalescent <em>msprime</em> back end and <em>slendr</em>’s tree-sequence functions now requires making an explicit call to a new function <code><a href="../reference/init_env.html">init_env()</a></code> after <code><a href="https://github.com/bodkan/slendr" class="external-link">library(slendr)</a></code> is executed.</strong> (PR <a href="https://github.com/bodkan/slendr/pull/118" class="external-link">#102</a>)</li>
</ul><p>Motivation for the change: A small proportion of users have been experiencing issues with broken conda environments and various other issues with Python virtual environments in general. It’s hard to guess how frequent this has been, but experience from workshops and courses suggests perhaps 1 in 20 of users experiencing Python issues which hindered their ability to use <em>slendr</em> .(Fun fact: the first user-submitted GitHub issue upon releasing the first version of the <em>slendr</em> R package was… a Python virtual environment issue).</p>
<p>Explanation: Activating Python environments automatically upon calling <code><a href="https://github.com/bodkan/slendr" class="external-link">library(slendr)</a></code> has been a popular feature because it hid away most of the complexities of the R-Python interface that powers <em>slendr</em>’s tree-sequence functionality. This was particularly convenient for many <em>slendr</em> users, particularly those who have no experience with Python at all.</p>
<p>Unfortunately, in cases where a Python virtual environments with tskit/msprime/pyslim on a user’s system ended up corrupted (or if anything else at the Python level got broken), the automatic Python environment activation performed by the <code><a href="https://github.com/bodkan/slendr" class="external-link">library(slendr)</a></code> call failed and <em>slendr</em> was not even loaded. Sadly, this completely pulled the rug from under <em>slendr</em> and there was nothing that could be done about it from its perspective (the issue happened at a low-level layer of embedded-Python before <em>slendr</em> could’ve been loaded into R). Solving these issues was not difficult for experienced users, but many <em>slendr</em> users have no experience with Python at all, they have never used conda, they don’t understand the concept of “Python virtual environments” or how the R-Python interface works. And nor should they! After all, <em>slendr</em> is an R package.</p>
<p>Splitting the Python virtual environment activation step into its own <code><a href="../reference/init_env.html">init_env()</a></code> function means that <code><a href="https://github.com/bodkan/slendr" class="external-link">library(slendr)</a></code> now always succeeds (regardless of potential underlying Python issues on a user’s sytem), making it much easier to diagnose and fix Python problems from R once the package is loaded.</p>
<p>So, to recap: <code><a href="https://github.com/bodkan/slendr" class="external-link">library(slendr)</a></code> no longer activates <em>slendr</em>’s isolated Python virtual environment. In order to simulate tree sequences and analyse them using its interface to <em>tskit</em>, it is necessary to call <code><a href="../reference/init_env.html">init_env()</a></code>. This function performs the same Python-activation steps that <code><a href="https://github.com/bodkan/slendr" class="external-link">library(slendr)</a></code> used to call automagically in earlier <em>slendr</em> versions. No other change to your scripts is necessary.</p>
<ul><li><p>Related to the previous point: <em>slendr</em> now requires Python 3.11, msprime 1.2.0, tskit 0.5.4, and pyslim 1.0.1, to keep up with recent releases of its Python dependencies. Again, this presents no hassle to the user, and the only thing required is re-running <code><a href="../reference/setup_env.html">setup_env()</a></code>. (PR <a href="https://github.com/bodkan/slendr/pull/121" class="external-link">#112</a>).</p></li>
<li><p>When a named list is provided as a <code>sample_sets =</code> argument to a oneway statistic function, the names are used in a <code>set</code> column of the resulting data frame even if only single samples were used. (<a href="https://github.com/bodkan/slendr/commit/2a6781" class="external-link">#2a6781</a>)</p></li>
<li><p>It is now possible to have non-spatial populations in an otherwise spatial model. Of course, when plotting such models on a map, only spatial components of the model will be plotted and <em>slendr</em> will give a warning. To be absolutely sure that users intends to do this, <em>slendr</em> will also give a warning when running <code><a href="../reference/compile_model.html">compile_model()</a></code> on models like this. Please consider this option experimental for the time-being as it is hard to predict which edge cases might break because of this (all unit tests and documentation tests are passing though). Feedback is more than welcome. (PR <a href="https://github.com/bodkan/slendr/pull/121" class="external-link">#112</a>).</p></li>
<li><p>It is now possible to label groups of samples in <em>slendr</em>’s <em>tskit</em> interface functions which should make data frames with statistics results more readable. As an example, running <code>ts_f3(ts, A = c("p1_1", "p1_2", "p1_3"), B = c("p2_1", "p2_3"), C = c("p3_1", "p3_2", "p3_"))</code> resulted in a following data-frame output:</p></li>
</ul><pre><code>&gt; ts_f3(ts, A = c("p1_1", "p1_2", "p1_3", "p1_4", "p1_5"),
            B = c("p2_1", "p2_2", "p2_3"),
            C = c("p3_1", "p3_2", "p3_3", "p3_4"))

# A tibble: 1 × 4
  A                        B              C                         f3
  &lt;chr&gt;                    &lt;chr&gt;          &lt;chr&gt;                  &lt;dbl&gt;
1 p1_1+p1_2+p1_3+p1_4+p1_5 p2_1+p2_2+p2_3 p3_1+p3_2+p3_3+p3_4 0.000130</code></pre>
<p>This gets unwieldy rather quickly, especially when dozens or hundreds of samples are grouped together as populations. The new syntax allows the following shortcut via customised group names leveraging the standard named <code>list</code> functionality in R:</p>
<pre><code>&gt; ts_f3(ts, A = list(group_one = c("p1_1", "p1_2", "p1_3", "p1_4", "p1_5")),
            B = list(group_two = c("p2_1", "p2_2", "p2_3")),
            C = list(group_three = c("p3_1", "p3_2", "p3_3", "p3_4")))
# A tibble: 1 × 4
  A         B         C                 f3
  &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;          &lt;dbl&gt;
1 group_one group_two group_three 0.000130</code></pre>
<p>This is more readable and in line with some other <em>tskit</em>-interface functions of <em>slendr</em> which used this functionality via their <code>sample_sets =</code> argument (<code><a href="../reference/ts_divergence.html">ts_divergence()</a></code>, <code><a href="../reference/ts_diversity.html">ts_diversity()</a></code>, etc.). (<a href="https://github.com/bodkan/slendr/commit/ac5e484" class="external-link">#ac5e484</a>)</p>
<ul><li>The default state of the <code>parent =</code> argument of <code><a href="../reference/population.html">population()</a></code> is now <code>NULL</code> instead of <code>"ancestor"</code>. This prevents silly surprising clashes in situation where some population’s name really <em>is</em> “ancestor”. The only change internally is that for populations which are ancestral, the <code>splits</code> data frame element of a <em>slendr</em> model object which includes this population carries a formal “ancestral parent population” as <code>"__pop_is_ancestor"</code> instead of just <code>"ancestor"</code>. Note that this is an internal implementation detail and not something that particularly has to involve the user. Still, if you have been somehow using <em>slendr</em>’s internal data structures, keep this in mind. (<a href="https://github.com/bodkan/slendr/commit/f8a39a2" class="external-link">#f8a39a2</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="slendr-040">slendr 0.4.0<a class="anchor" aria-label="anchor" href="#slendr-040"></a></h2><p class="text-muted">CRAN release: 2022-09-30</p>
<ul><li><p>The <code><a href="../reference/msprime.html">msprime()</a></code> function now makes sure that a given <em>slendr</em> model can fully coalesce to a single common ancestor population. Previously, having multiple ancestral populations created with <code>parent = "ancestor"</code> would cause an infinite simulation when plugged into the <code><a href="../reference/msprime.html">msprime()</a></code> backend. (<a href="https://github.com/bodkan/slendr/commit/095b124" class="external-link">#095b124</a>)</p></li>
<li><p>The initial size of a population which emerges from a split from another population is now printed in a population history summary in the R console. (<a href="https://github.com/bodkan/slendr/commit/6525bf3" class="external-link">#6525bf3</a>)</p></li>
<li><p>A couple of fixes to support loading, processing, and plotting of “manually” created tree sequences have been implemented (see <a href="https://tskit.dev/tutorials/tables_and_editing.html#constructing-a-tree-sequence" class="external-link">this</a>). Not sure how practically useful, but it’s important to be able to load even “pure” tree sequences which are not from simulators such as SLiM and msprime. A set of <a href="https://github.com/bodkan/slendr/blob/main/tests/testthat/test-manual-ts.R" class="external-link">unit tests</a> has been added, making sure that a minimalist nodes &amp; edges table can be loaded, as well as nodes &amp; edges &amp; individuals, plus tables of populations and sites &amp; mutations. PRs with more extensive unit tests and bug reports of tree sequences which are failing to load would be appreciated! The code for handling cases of “manually-created” tree sequences which have missing individual table, missing populations table, etc. seems especially brittle at the moment (<a href="https://github.com/bodkan/slendr/commit/79adf14" class="external-link">#79adf14</a>).</p></li>
<li><p>The <code>-1</code> value as a missing value indicator used in tskit is now replaced with the more R-like <code>NA</code> in various tree-sequence tables (annotated by <em>slendr</em> or original through tskit itself) (<a href="https://github.com/bodkan/slendr/commit/79adf14" class="external-link">#79adf14</a>).</p></li>
<li><p>Relative paths are now expanded in <code><a href="../reference/ts_save.html">ts_save()</a></code> (<a href="https://github.com/bodkan/slendr/commit/382e0b7" class="external-link">#382e0b7</a>).</p></li>
<li><p><em>slendr</em> models can now be optionally compiled without serialization to disk. This only works with the <code><a href="../reference/msprime.html">msprime()</a></code> coalescent back end but will be much faster in cases where a huge number of simulations needs to be run because for non-serialized models, <code><a href="../reference/msprime.html">msprime()</a></code> now calls the back end engine directly through the R-Python interface (rather than on the command line) and output tree sequences are not saved to disk, rather than passed through the Python-R interface directly in memory (PR <a href="https://github.com/bodkan/slendr/pull/112" class="external-link">#112</a>).</p></li>
<li><p>Deprecated argument <code>sampling =</code> of the functions <code><a href="../reference/slim.html">slim()</a></code> and <code><a href="../reference/msprime.html">msprime()</a></code> has now been permanently removed in favour of the <code>samples =</code> argument (<a href="https://github.com/bodkan/slendr/commit/0757b6e" class="external-link">#0757b6e</a>).</p></li>
<li><p>Avoid the unnecessary <code>array</code> type of <em>tskit</em> results returned via reticulate. Numeric vectors (columns of data frames with numerical results) obtained in this way are simple R numeric vector (<a href="https://github.com/bodkan/slendr/commit/5101b39" class="external-link">#5101b39</a>).</p></li>
<li><p>One-way and multi-way statistics results are now returned as simple numerical vectors. Previously, results were returned as a type <code>array</code> despite “looking” as vectors (this is how values are returned to R from the reticulate-Python layer), which caused unnecessary annoyances and type-conversions on the R side of things and was not even intended (<a href="https://github.com/bodkan/slendr/commit/403df3b" class="external-link">#403df3b</a>).</p></li>
<li><p>Computing population genetic statistics on named samples that are not present in a tree sequence (most likely typos) is now correctly caught and reported as an error (<a href="https://github.com/bodkan/slendr/commit/da7e0bb" class="external-link">#da7e0bb</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="slendr-030">slendr 0.3.0<a class="anchor" aria-label="anchor" href="#slendr-030"></a></h2><p class="text-muted">CRAN release: 2022-08-19</p>
<ul><li><p>SLiM 4.0 is now required for running simulations with the <code><a href="../reference/slim.html">slim()</a></code> engine. If you want to run <em>slendr</em> simulations with SLiM (spatial or non-spatial), you will need to upgrade you SLiM installation. SLiM 3.7.1 version is no longer supported as the upcoming new <em>slendr</em> spatial features will depend on SLiM 4.x and maintaining two functionally identical yet syntactically different back ends is not feasible (PR <a href="https://github.com/bodkan/slendr/pull/104" class="external-link">#104</a>).</p></li>
<li><p>At the same time as the SLiM 4.0 release, new versions of Python modules msprime, tskit and pyslim have also been released. In fact, to be able to work with SLiM 4.0 tree sequences properly, those Python modules must be upgraded as well. Next time you load <code><a href="https://github.com/bodkan/slendr" class="external-link">library(slendr)</a></code>, you will be prompted to setup a new updated Python environment which you can do easily by running <code><a href="../reference/setup_env.html">setup_env()</a></code>.</p></li>
<li><p>Experimental support for running coalescent msprime simulations and analysing tree-sequence data using tskit on the Windows platform has now been implemented (PR <a href="https://github.com/bodkan/slendr/pull/102" class="external-link">#102</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="slendr-020">slendr 0.2.0<a class="anchor" aria-label="anchor" href="#slendr-020"></a></h2><p class="text-muted">CRAN release: 2022-08-09</p>
<ul><li><p><em>slendr</em> is now <a href="https://CRAN.R-project.org/package=slendr" class="external-link">on CRAN</a>!</p></li>
<li><p>Big changes to the way tree-sequence outputs are handled by <em>slendr</em> by default. See <a href="https://github.com/bodkan/slendr/pull/100#issue-1310869866" class="external-link">this comment</a> for an extended description and examples of the change. (PR <a href="https://github.com/bodkan/slendr/pull/100" class="external-link">#100</a>). Briefly, simulation functions <code><a href="../reference/slim.html">slim()</a></code> and <code><a href="../reference/msprime.html">msprime()</a></code> now return a tree-sequence object by default (can be switched off by setting <code>load = FALSE</code>), avoiding the need to always run <code>ts &lt;- ts_load(model)</code> as previously. At the same time, a parameter <code>output =</code> can be now used in <code><a href="../reference/slim.html">slim()</a></code> and <code><a href="../reference/msprime.html">msprime()</a></code> to specify the location where a tree-sequence file should be saved (temporary file by default).</p></li>
<li><p><strong><em>slendr</em>’s tree-sequence R interface to the <a href="https://tskit.dev/tskit/docs/stable/introduction.html" class="external-link">tskit</a> Python module has been generalized to load, process, and analyze tree sequences from non-<em>slendr</em> models!</strong> This means that users can use the <em>slendr</em> R package even for analyzing tree sequences coming from standard msprime and SLiM scripts, including all spatial capabilities that have been only available for <em>slendr</em> tree sequences so far. Please note that this generalization is still rather experimental and there might be corner cases where a tree sequence from your msprime or SLiM script does not load properly or leads to other errors. If this happens, please open a GitHub issue with the script in question attached. (PR <a href="https://github.com/bodkan/slendr/pull/91" class="external-link">#91</a>)</p></li>
<li><p>Removed functions and some function arguments originally deprecated during the renaming phase of the pre-preprint refactoring. This affects <code>compile</code>, <code>boundary</code>, <code>dispersal</code>, <code>expand</code>, <code>geneflow</code>, <code>plot.slendr</code>, <code>plot_graph</code>, <code>read</code>, <code>sampling</code>, and <code>shrink</code>. Similarly, deprecated <code>dir</code> argument of the <code>compile_model</code> is now <code>path</code>, <code>geneflow</code> argument of <code>compile_model</code> is now <code>gene_flow</code>, and the <code>_dist</code> suffix was removed from <code>competition_dist</code>, <code>mate_dist</code>, and <code>dispersal_dist</code>. If you get an error about a missing function or a function argument in code which used to work in an ancient version of <em>slendr</em>, this is why. (<a href="https://github.com/bodkan/slendr/commit/985b451" class="external-link">#985b451</a>)</p></li>
<li><p>When setting up an isolated Python environment using <code><a href="../reference/setup_env.html">setup_env()</a></code>, <em>slendr</em> now makes a decision whether to install Python dependencies using pip (critical on osx-arm64 for which the conda msprime/tskit are unfortunately currently broken) or with conda (every other platform). This can be still influenced by the user using the <code>pip = &lt;TRUE|FALSE&gt;</code> argument, but we now change the default behavior on ARM64 Mac. (<a href="https://github.com/bodkan/slendr/commit/54a413d" class="external-link">#54a413d</a>)</p></li>
<li><p>The name of the default <em>slendr</em> Python environment is now shortened even more, and the redundant <code>_pandas</code> prefix is now dropped. <strong>Users will be notified upon calling <code><a href="https://github.com/bodkan/slendr" class="external-link">library(slendr)</a></code> that a new environment should be created. This is OK, it’s not a bug.</strong> (<a href="https://github.com/bodkan/slendr/commit/54a413d" class="external-link">#54a413d</a>)</p></li>
<li><p>The format of the default <em>slendr</em> Python environment is now <code>msprime-&lt;version&gt;_tskit-&lt;version&gt;_pyslim-&lt;version&gt;_pandas</code>, dropping the <code>slendr_</code> prefix. This paves the way towards a future non-<em>slendr</em> tskit R package, which will share the same Python environment with <em>slendr</em> (because both R packages will go hand in hand). This isn’t really a user-facing change, except that calling <code><a href="../reference/setup_env.html">setup_env()</a></code> will suggests creating a new Python environment and <code><a href="https://github.com/bodkan/slendr" class="external-link">library(slendr)</a></code> will appear as if a <em>slendr</em> environment is not yet present. Calling <code><a href="../reference/setup_env.html">setup_env()</a></code> and creating a new Python environment from scratch will solve the problem. (<a href="https://github.com/bodkan/slendr/commit/eb05180" class="external-link">#eb05180</a>)</p></li>
<li><p><code>xrange</code> and <code>yrange</code> parameters of <code><a href="../reference/world.html">world()</a></code> are now enforced to be two-dimensional numeric vectors, avoiding unnecessary issues with misspecified longitude/latitude (<a href="https://github.com/bodkan/slendr/commit/df95369" class="external-link">#df95369</a>)</p></li>
<li><p>The argument <code>sampling =</code> in <code><a href="../reference/slim.html">slim()</a></code> and <code><a href="../reference/msprime.html">msprime()</a></code> is now renamed to <code>samples =</code> (<a href="https://github.com/bodkan/slendr/commit/adf4e0d" class="external-link">#adf4e0d</a>).</p></li>
<li><p>The automated <code><a href="../reference/setup_env.html">setup_env()</a></code> function for creating dedicated mini Python environments for <em>slendr</em> now installs packages using <em>pip</em> by default. Reason: The rate of conda failures and dependency conflicts (even in the trivial case of installing nothing more than <em>msprime</em> + <em>tskit</em> + <em>pyslim</em> + <em>pandas</em>) is too high to rely on it. The option to use conda for package installations with <code><a href="../reference/setup_env.html">setup_env()</a></code> is still there, but the users must explicitly call <code>setup_env(pip = FALSE)</code> to get this behavior. Note that conda is still used as a means to install Python itself! This change only affects the way how Python modules are installed into a dedicated <em>slendr</em> Python environment, not the installation of Python itself. (<a href="https://github.com/bodkan/slendr/commit/81be1a7" class="external-link">#81be1a7</a>)</p></li>
<li><p>The name of the automatically created <em>slendr</em>-specific Python environment is now composed from the names <em>and versions</em> of Python modules installed. This makes it possible to naturally upgrade both <em>slendr</em> and its Python dependencies in case the <em>tskit</em> / <em>msprime</em> / <em>pyslim</em> folks upgrade some of those packages. In that case, if a <em>slendr</em> user upgrades the <em>slendr</em> package (and that new version requires newer versions of Python modules), <em>slendr</em> will simply recommend to create a new Python environment without additional effort on our part. (<a href="https://github.com/bodkan/slendr/commit/81be1a7" class="external-link">#81be1a7</a>)</p></li>
<li><p>The code of <code><a href="../reference/setup_env.html">setup_env()</a></code> was simplified to bare essentials. Now it <em>only</em> serves as a way to auto-setup a dedicated, isolated Python installation and <em>slendr</em> environment. The interface to install Python modules into custom-defined Python environment created outside R has been removed because this functionality is not necessary – these custom environments can be easily activated by calling <code><a href="https://rstudio.github.io/reticulate/reference/use_python.html" class="external-link">reticulate::use_virtualenv</a></code> or <code><a href="https://rstudio.github.io/reticulate/reference/use_python.html" class="external-link">reticulate::use_condaenv</a></code>. (<a href="https://github.com/bodkan/slendr/commit/30f24b9" class="external-link">#30f24b9</a>)</p></li>
<li><p>If some Python users want to use custom Python environments with <em>msprime</em>, <em>tskit</em>, and <em>pyslim</em>, they can silence the suggestion to use <code><a href="../reference/setup_env.html">setup_env()</a></code> printed by the <code><a href="https://github.com/bodkan/slendr" class="external-link">library(slendr)</a></code> call by setting <code>options(slendr.custom_env = TRUE)</code>. (<a href="https://github.com/bodkan/slendr/commit/30f24b9" class="external-link">#30f24b9</a>)</p></li>
<li><p>The argument <code>sim_length =</code> is now renamed to <code>simulation_length =</code>. Both are accepted for the moment and using the old name will simply inform the user of the future deprecation. (<a href="https://github.com/bodkan/slendr/commit/56491fb" class="external-link">#56491fb</a>)</p></li>
<li><p>Extensive set of runnable examples including figures and a built-in pre-compiled example model have been added to the documentation. (<a href="https://github.com/bodkan/slendr/commit/395df62c" class="external-link">#395df62c</a>)</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="slendr-010">slendr 0.1.0<a class="anchor" aria-label="anchor" href="#slendr-010"></a></h2>
<ul><li>First numbered version of <em>slendr</em> to celebrate its <a href="https://www.biorxiv.org/content/10.1101/2022.03.20.485041v1" class="external-link">bioRxiv preprint</a>. 🥳 🎉</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Martin Petr.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

